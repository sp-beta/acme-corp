const arrlatlng = [
    {
        logo: "HE",
        region: "Hecks East",
        crop: "68.7 Acres",
        area: 68.7,
        v0: 1432.9,
        u0: "t CO<sub>2</sub>eq",
        v1: 40,
        u1: "t CO<sub>2</sub>eq",
        v2: 50,
        u2: "t NO<sub>x</sub>",
        v3: 15,
        u3: "tons",
        v4: 80,
        u4: '%',
        polygonNo: 0,
        annualSoc: '358.2',
        annualSocPer: '0.078%',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        socData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        polygon: [
            [
                -91.633707,
                41.374153
            ],
            [
                -91.633635,
                41.374152
            ],
            [
                -91.633599,
                41.374152
            ],
            [
                -91.633599,
                41.374152
            ],
            [
                -91.633452,
                41.374148
            ],
            [
                -91.63342,
                41.374123
            ],
            [
                -91.632093,
                41.374107
            ],
            [
                -91.632057,
                41.374107
            ],
            [
                -91.631806,
                41.374104
            ],
            [
                -91.630376,
                41.374105
            ],
            [
                -91.629998,
                41.374105
            ],
            [
                -91.629582,
                41.374104
            ],
            [
                -91.628579,
                41.374116
            ],
            [
                -91.627087,
                41.374128
            ],
            [
                -91.626927,
                41.374127
            ],
            [
                -91.625384,
                41.374135
            ],
            [
                -91.625366,
                41.374143
            ],
            [
                -91.624416,
                41.374151
            ],
            [
                -91.624362,
                41.374163
            ],
            [
                -91.623769,
                41.37417
            ],
            [
                -91.623697,
                41.374196
            ],
            [
                -91.62366,
                41.374277
            ],
            [
                -91.623616,
                41.374886
            ],
            [
                -91.623611,
                41.374898
            ],
            [
                -91.623609,
                41.374979
            ],
            [
                -91.623605,
                41.375168
            ],
            [
                -91.623602,
                41.375303
            ],
            [
                -91.623545,
                41.379707
            ],
            [
                -91.623552,
                41.381058
            ],
            [
                -91.623803,
                41.381088
            ],
            [
                -91.623828,
                41.381088
            ],
            [
                -91.623838,
                41.381142
            ],
            [
                -91.62385,
                41.381143
            ],
            [
                -91.623871,
                41.381278
            ],
            [
                -91.624049,
                41.381307
            ],
            [
                -91.625484,
                41.381324
            ],
            [
                -91.627403,
                41.381321
            ],
            [
                -91.627489,
                41.381071
            ],
            [
                -91.627648,
                41.381081
            ],
            [
                -91.627678,
                41.38108
            ],
            [
                -91.627678,
                41.38108
            ],
            [
                -91.627714,
                41.381081
            ],
            [
                -91.627929,
                41.381056
            ],
            [
                -91.628109,
                41.381031
            ],
            [
                -91.628124,
                41.381014
            ],
            [
                -91.628182,
                41.381005
            ],
            [
                -91.628197,
                41.380846
            ],
            [
                -91.628267,
                41.380327
            ],
            [
                -91.62838,
                41.379848
            ],
            [
                -91.628423,
                41.379204
            ],
            [
                -91.628417,
                41.377408
            ],
            [
                -91.623627,
                41.377372
            ],
            [
                -91.623654,
                41.376845
            ],
            [
                -91.623901,
                41.376768
            ],
            [
                -91.62404,
                41.376668
            ],
            [
                -91.624362,
                41.376603
            ],
            [
                -91.628289,
                41.374941
            ],
            [
                -91.628664,
                41.374784
            ],
            [
                -91.629077,
                41.374695
            ],
            [
                -91.62948,
                41.374663
            ],
            [
                -91.630542,
                41.374719
            ],
            [
                -91.632333,
                41.374643
            ],
            [
                -91.63317,
                41.374482
            ],
            [
                -91.633992,
                41.374211
            ],
            [
                -91.633994,
                41.374157
            ],
            [
                -91.633743,
                41.374154
            ],
            [
                -91.633707,
                41.374153
            ]
        ]
    },
    {
        logo: "HW",
        region: "Hecks West",
        crop: "140.6 Acres",
        area: 140.6,
        v0: 3523.9,
        u0: "t CO<sub>2</sub>eq",
        v1: 45,
        u1: "t CO<sub>2</sub>eq",
        v2: 48,
        u2: "t NO<sub>x</sub>",
        v3: 70,
        u3: "tons",
        v4: 90,
        u4: '%',
        polygonNo: 1,
        annualSocPer: '0.094%',
        annualSoc: '881.0',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        socData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 468.2], ['2023', 388.2],
            ['2024', 228.4], ['2025', 928.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 538.2], ['2021', 228.2],
            ['2022', 228.2], ['2023', 348.2],
            ['2024', 628.4], ['2025', 28.2]
        ],
        polygon: [
            [
                -91.63787827751885,
                41.38074891022114
            ],
            [
                -91.63790227984937,
                41.3741685079431
            ],
            [
                -91.63476511926224,
                41.37411786949074
            ],
            [
                -91.63435303487555,
                41.37427496390566
            ],
            [
                -91.6333115663487,
                41.37458563539979
            ],
            [
                -91.63259982105593,
                41.37476858206696
            ],
            [
                -91.63145552444065,
                41.37487288327767
            ],
            [
                -91.6306265048619,
                41.37487993286756
            ],
            [
                -91.63000411895628,
                41.37478797801081
            ],
            [
                -91.62920255421957,
                41.37478522748602
            ],
            [
                -91.62884769792718,
                41.37484088439224
            ],
            [
                -91.62833965146086,
                41.37502710602786
            ],
            [
                -91.62837805613518,
                41.37510960489134
            ],
            [
                -91.62848202775386,
                41.37527504285344
            ],
            [
                -91.6285307990629,
                41.37547028960363
            ],
            [
                -91.62851004938798,
                41.37619660537463
            ],
            [
                -91.6284897289479,
                41.37738348199803
            ],
            [
                -91.62885919743265,
                41.37776814765835
            ],
            [
                -91.62852813519244,
                41.37746598076733
            ],
            [
                -91.6284718832329,
                41.37895931055513
            ],
            [
                -91.62840263122176,
                41.38043196008316
            ],
            [
                -91.62835091424691,
                41.38129082193286
            ],
            [
                -91.62931554543059,
                41.38129621894907
            ],
            [
                -91.62934650778904,
                41.38116367176617
            ],
            [
                -91.62922208001972,
                41.38076250954602
            ],
            [
                -91.62906727566015,
                41.38047343471523
            ],
            [
                -91.62895146548837,
                41.38024639865304
            ],
            [
                -91.62898681101544,
                41.37996040467156
            ],
            [
                -91.62915446927181,
                41.3797993688227
            ],
            [
                -91.62937587002945,
                41.37965967245105
            ],
            [
                -91.6295482002369,
                41.37933495932506
            ],
            [
                -91.62959683234824,
                41.37905941490306
            ],
            [
                -91.62962574844941,
                41.37899847614255
            ],
            [
                -91.62965086737522,
                41.37907052470973
            ],
            [
                -91.62963348842992,
                41.37920329204035
            ],
            [
                -91.6295175312602,
                41.37945727682386
            ],
            [
                -91.62948540159411,
                41.37963074327728
            ],
            [
                -91.62940098893395,
                41.3797317210617
            ],
            [
                -91.6291792958223,
                41.37988164727102
            ],
            [
                -91.62907896295724,
                41.38006424308981
            ],
            [
                -91.62906099822136,
                41.38021746988567
            ],
            [
                -91.62914993676496,
                41.38043383593497
            ],
            [
                -91.6293440270518,
                41.38077471972259
            ],
            [
                -91.62942975385711,
                41.3811036132132
            ],
            [
                -91.62942391122961,
                41.38130820899991
            ],
            [
                -91.62983167065606,
                41.38130457928176
            ],
            [
                -91.63015107075385,
                41.3810641233737
            ],
            [
                -91.63057021475619,
                41.38066152916016
            ],
            [
                -91.63078503931305,
                41.38027609516396
            ],
            [
                -91.6309726974318,
                41.37989022104878
            ],
            [
                -91.63107185728101,
                41.37974854276535
            ],
            [
                -91.630809868092,
                41.38035837325278
            ],
            [
                -91.6305245051373,
                41.38083477596248
            ],
            [
                -91.6302449781142,
                41.38110658208728
            ],
            [
                -91.62998078330584,
                41.38131722873805
            ],
            [
                -91.6310549486642,
                41.38129368148918
            ],
            [
                -91.63223689613508,
                41.38130257125265
            ],
            [
                -91.63249641720519,
                41.38125559619489
            ],
            [
                -91.6328828434846,
                41.38104692042732
            ],
            [
                -91.63309357390979,
                41.38080469935941
            ],
            [
                -91.63311677732428,
                41.38046733555399
            ],
            [
                -91.63306257025299,
                41.37998543693588
            ],
            [
                -91.63301407364222,
                41.37977996249924
            ],
            [
                -91.63304823494994,
                41.379534886454
            ],
            [
                -91.6331043118026,
                41.37947438602637
            ],
            [
                -91.63311526974915,
                41.37956667384264
            ],
            [
                -91.63313706502736,
                41.38023226972903
            ],
            [
                -91.63316090157699,
                41.38082625691285
            ],
            [
                -91.63330913921018,
                41.38086959147192
            ],
            [
                -91.63362794147803,
                41.38064958552523
            ],
            [
                -91.63408460218274,
                41.38036016493142
            ],
            [
                -91.6341430099121,
                41.38021782558427
            ],
            [
                -91.63427457205954,
                41.37989244702592
            ],
            [
                -91.63440205403916,
                41.37971028557155
            ],
            [
                -91.63459802740377,
                41.37950876146617
            ],
            [
                -91.63469921793514,
                41.3792954714084
            ],
            [
                -91.63479032142045,
                41.3789592041607
            ],
            [
                -91.63483281440912,
                41.37889848348966
            ],
            [
                -91.63474171122635,
                41.37923475077555
            ],
            [
                -91.63465177234134,
                41.37953009873811
            ],
            [
                -91.63444046909267,
                41.37979278233054
            ],
            [
                -91.63440864364475,
                41.37995602033516
            ],
            [
                -91.63466728390156,
                41.37993972979942
            ],
            [
                -91.63480222982463,
                41.37997261323479
            ],
            [
                -91.63482094657014,
                41.38026971637921
            ],
            [
                -91.63492465137791,
                41.3804453781502
            ],
            [
                -91.63508501518555,
                41.38054007883661
            ],
            [
                -91.63521646786063,
                41.38069571944294
            ],
            [
                -91.6352674879514,
                41.38129014481579
            ],
            [
                -91.63765942130601,
                41.38127757471057
            ],
            [
                -91.63783686321598,
                41.38124973289582
            ],
            [
                -91.63787827751885,
                41.38074891022114
            ]
        ],
    },
    {
        logo: "HH",
        region: "Hora Home West",
        crop: "74.6 Acres",
        area: 74.6,
        v0: 942.9,
        u0: "t CO<sub>2</sub>eq",
        v1: 50,
        u1: "t CO<sub>2</sub>eq",
        v2: 33,
        u2: "t NO<sub>x</sub>",
        v3: 27,
        u3: "tons",
        v4: 62,
        polygonNo: 2,
        annualSocPer: '0.047%',
        annualSoc: '235.7',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        socData: [
            ['2018', 958.2], ['2019', 868.2],
            ['2020', 338.2], ['2021', 628.2],
            ['2022', 768.2], ['2023', 488.2],
            ['2024', 628.4], ['2025', 1128.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 538.2], ['2021', 228.2],
            ['2022', 228.2], ['2023', 348.2],
            ['2024', 628.4], ['2025', 28.2]
        ],
        polygon: [
            [
                -91.608318,
                41.374071
            ],
            [
                -91.608308,
                41.373985
            ],
            [
                -91.608274,
                41.373823
            ],
            [
                -91.608333,
                41.373693
            ],
            [
                -91.608446,
                41.373657
            ],
            [
                -91.608508,
                41.373656
            ],
            [
                -91.608571,
                41.373656
            ],
            [
                -91.608773,
                41.373659
            ],
            [
                -91.608976,
                41.373662
            ],
            [
                -91.60909,
                41.373655
            ],
            [
                -91.609119,
                41.373531
            ],
            [
                -91.60921,
                41.368198
            ],
            [
                -91.609175,
                41.368092
            ],
            [
                -91.609126,
                41.368025
            ],
            [
                -91.609063,
                41.367995
            ],
            [
                -91.608975,
                41.367984
            ],
            [
                -91.607987,
                41.367977
            ],
            [
                -91.607772,
                41.367964
            ],
            [
                -91.607646,
                41.367934
            ],
            [
                -91.607535,
                41.367846
            ],
            [
                -91.60746,
                41.367816
            ],
            [
                -91.607398,
                41.367758
            ],
            [
                -91.607375,
                41.36769
            ],
            [
                -91.6073,
                41.367632
            ],
            [
                -91.607238,
                41.367593
            ],
            [
                -91.607125,
                41.367562
            ],
            [
                -91.607012,
                41.367522
            ],
            [
                -91.606912,
                41.367482
            ],
            [
                -91.606825,
                41.367424
            ],
            [
                -91.606814,
                41.367366
            ],
            [
                -91.606816,
                41.3673
            ],
            [
                -91.606832,
                41.367166
            ],
            [
                -91.606784,
                41.36707
            ],
            [
                -91.606788,
                41.36695
            ],
            [
                -91.604294,
                41.366938
            ],
            [
                -91.604177,
                41.374004
            ],
            [
                -91.608318,
                41.374071
            ]
        ],
    },
    {
        logo: "PN",
        region: "Pond North",
        crop: "30.5 Acres",
        area: 30.5,
        v0: 301.5,
        u0: "t CO<sub>2</sub>eq",
        v1: 60,
        u1: "t CO<sub>2</sub>eq",
        v2: 45,
        u2: "t NO<sub>x</sub>",
        v3: 12,
        u3: "tons",
        polygonNo: 3,
        annualSocPer: '0.037%',
        annualSoc: '75.4',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        v4: 95,
        u4: '%',
        socData: [
            ['2018', 58.2], ['2019', 268.2],
            ['2020', 338.2], ['2021', 428.2],
            ['2022', 728.2], ['2023', 548.2],
            ['2024', 628.4], ['2025', 928.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 538.2], ['2021', 228.2],
            ['2022', 228.2], ['2023', 348.2],
            ['2024', 628.4], ['2025', 28.2]
        ],
        polygon: [
            [
                -91.611251517,
                41.38194586499967
            ],
            [
                -91.610387796,
                41.3820705449997
            ],
            [
                -91.60970399200002,
                41.38217037199969
            ],
            [
                -91.60938002300004,
                41.38222049999971
            ],
            [
                -91.60923597199998,
                41.38224578099969
            ],
            [
                -91.60916365900005,
                41.38227192899971
            ],
            [
                -91.60912606300002,
                41.38235253999974
            ],
            [
                -91.60912260900002,
                41.38251462999985
            ],
            [
                -91.60912030600005,
                41.38262268899971
            ],
            [
                -91.60911800300005,
                41.38273074899969
            ],
            [
                -91.60911800300006,
                41.38273074899984
            ],
            [
                -91.60911800300005,
                41.38273074899984
            ],
            [
                -91.60911570000002,
                41.38283880899985
            ],
            [
                -91.60911224600001,
                41.38300089799987
            ],
            [
                -91.60914178200004,
                41.38329849599989
            ],
            [
                -91.60917089038028,
                41.3834180609438
            ],
            [
                -91.60917419600001,
                41.38346101999974
            ],
            [
                -91.609207763,
                41.38356951299971
            ],
            [
                -91.60924019815464,
                41.38364691672712
            ],
            [
                -91.60915116600002,
                41.38454161699985
            ],
            [
                -91.60914310600005,
                41.38491982599984
            ],
            [
                -91.60932245600002,
                41.38492199399986
            ],
            [
                -91.61014746900004,
                41.38493196299986
            ],
            [
                -91.61047030100002,
                41.38493586299986
            ],
            [
                -91.61075726200005,
                41.38493932799988
            ],
            [
                -91.61115183400004,
                41.38494409199984
            ],
            [
                -91.61147466600003,
                41.38494798899986
            ],
            [
                -91.61172575700002,
                41.38495101899985
            ],
            [
                -91.612873603,
                41.38496486399984
            ],
            [
                -91.61298178800004,
                41.38493914599986
            ],
            [
                -91.61308997300004,
                41.38491342799986
            ],
            [
                -91.61309523311242,
                41.38491152586489
            ],
            [
                -91.61352059660099,
                41.38495392157785
            ],
            [
                -91.61355513700003,
                41.38497307899986
            ],
            [
                -91.613734488,
                41.38497523999986
            ],
            [
                -91.61391384000002,
                41.38497740099985
            ],
            [
                -91.614308412,
                41.3849821539997
            ],
            [
                -91.61452363400004,
                41.38498474599971
            ],
            [
                -91.61477472500002,
                41.38498776899987
            ],
            [
                -91.61545683400003,
                41.38496895799985
            ],
            [
                -91.61549327700004,
                41.38494237399988
            ],
            [
                -91.61549499600002,
                41.38486132899986
            ],
            [
                -91.61545957169577,
                41.3848398849631
            ],
            [
                -91.61545969900003,
                41.38483388299987
            ],
            [
                -91.61542497600001,
                41.38477942099985
            ],
            [
                -91.61538967900007,
                41.38475197399986
            ],
            [
                -91.61535432161841,
                41.38472736982679
            ],
            [
                -91.615354382,
                41.38472452799987
            ],
            [
                -91.615283788,
                41.38466963399969
            ],
            [
                -91.611788396,
                41.38200638799975
            ],
            [
                -91.611681939,
                41.3819510589997
            ],
            [
                -91.611251517,
                41.38194586499967
            ]
        ],
    },
    {
        logo: "LR",
        region: "Liska Relay",
        crop: "42.8 Acres",
        area: 42.8,
        v0: 792.8,
        u0: "t CO<sub>2</sub>eq",
        v1: 60,
        u1: "t CO<sub>2</sub>eq",
        v2: 45,
        u2: "t NO<sub>x</sub>",
        v3: 12,
        u3: "tons",
        v4: 75,
        u4: '%',
        polygonNo: 4,
        annualSocPer: '0.069%',
        annualSoc: '198.2',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        socData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 538.2], ['2021', 228.2],
            ['2022', 228.2], ['2023', 348.2],
            ['2024', 628.4], ['2025', 28.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 58.2], ['2019', 268.2],
            ['2020', 338.2], ['2021', 428.2],
            ['2022', 728.2], ['2023', 548.2],
            ['2024', 628.4], ['2025', 928.2]
        ],
        polygon: [
            [
                -91.628455,
                41.414344
            ],
            [
                -91.628454,
                41.414688
            ],
            [
                -91.628916,
                41.414731
            ],
            [
                -91.629117,
                41.415042
            ],
            [
                -91.629625,
                41.415701
            ],
            [
                -91.630059,
                41.416267
            ],
            [
                -91.630383,
                41.417224
            ],
            [
                -91.6304,
                41.41738
            ],
            [
                -91.630533,
                41.417521
            ],
            [
                -91.630526,
                41.417798
            ],
            [
                -91.630542,
                41.418723
            ],
            [
                -91.630493,
                41.419491
            ],
            [
                -91.633161,
                41.419508
            ],
            [
                -91.633148,
                41.416882
            ],
            [
                -91.633143,
                41.415608
            ],
            [
                -91.633124,
                41.414328
            ],
            [
                -91.633133,
                41.412952
            ],
            [
                -91.632725,
                41.412919
            ],
            [
                -91.63236,
                41.413
            ],
            [
                -91.631985,
                41.413137
            ],
            [
                -91.631684,
                41.413346
            ],
            [
                -91.631523,
                41.413571
            ],
            [
                -91.631244,
                41.413821
            ],
            [
                -91.630912,
                41.414078
            ],
            [
                -91.63083,
                41.4143
            ],
            [
                -91.628455,
                41.414344
            ]
        ],
    },
    {
        logo: "PW",
        region: "Pond West",
        crop: "34.9 Acres",
        area: 34.9,
        v0: 296.3,
        u0: "t CO<sub>2</sub>eq",
        v1: 40,
        u1: "t CO<sub>2</sub>eq",
        v2: 50,
        u2: "t NO<sub>x</sub>",
        v3: 15,
        u3: "tons",
        polygonNo: 5,
        annualSocPer: '0.032%',
        annualSoc: '74.1',
        annualMethane: '358.2',
        annualMethanePer: '0.278%',
        annualNOxPer: '0.078%',
        annualNOx: '358.2',
        v4: 78,
        u4: '%',
        socData: [
            ['2018', 128.2], ['2019', 298.2],
            ['2020', 588.2], ['2021', 238.2],
            ['2022', 928.2], ['2023', 948.2],
            ['2024', 228.4], ['2025', 1128.2]
        ],
        methaneData: [
            ['2018', 358.2], ['2019', 368.2],
            ['2020', 398.2], ['2021', 428.2],
            ['2022', 368.2], ['2023', 328.2],
            ['2024', 268.4], ['2025', 428.2]
        ],
        NOxData: [
            ['2018', 158.2], ['2019', 268.2],
            ['2020', 538.2], ['2021', 228.2],
            ['2022', 228.2], ['2023', 348.2],
            ['2024', 628.4], ['2025', 28.2]
        ],
        polygon: [
            [
                -91.61350234100003,
                41.3807029819997
            ],
            [
                -91.61325069200004,
                41.38072697099971
            ],
            [
                -91.61310607200001,
                41.38077927099972
            ],
            [
                -91.613033188,
                41.3808324369997
            ],
            [
                -91.61237607800003,
                41.38136495099972
            ],
            [
                -91.612156847,
                41.38155145999967
            ],
            [
                -91.61208281300001,
                41.38165865499975
            ],
            [
                -91.61207591900005,
                41.38198283499971
            ],
            [
                -91.61211006400005,
                41.38206431199969
            ],
            [
                -91.61214535800003,
                41.38209175999972
            ],
            [
                -91.61218065200002,
                41.38211920799972
            ],
            [
                -91.61225124000002,
                41.3821741029997
            ],
            [
                -91.612286535,
                41.38220154999974
            ],
            [
                -91.61461831499999,
                41.38390500999971
            ],
            [
                -91.6146448874495,
                41.3839101878352
            ],
            [
                -91.61465361100002,
                41.38393245699988
            ],
            [
                -91.614688333,
                41.38398691899987
            ],
            [
                -91.61472305600006,
                41.38404138099987
            ],
            [
                -91.61479307500002,
                41.38412328899985
            ],
            [
                -91.61489839100003,
                41.38423264499985
            ],
            [
                -91.614933688,
                41.38426009199988
            ],
            [
                -91.61500428100003,
                41.38431498499987
            ],
            [
                -91.61503600169785,
                41.38432084849371
            ],
            [
                -91.61503957700003,
                41.38434243199987
            ],
            [
                -91.61578310400003,
                41.38481075199986
            ],
            [
                -91.61592486600003,
                41.38489352399984
            ],
            [
                -91.61599603300003,
                41.38492140199986
            ],
            [
                -91.61606777400002,
                41.38492226499985
            ],
            [
                -91.617506018,
                41.38477742499987
            ],
            [
                -91.618402772,
                41.38478819699987
            ],
            [
                -91.61855711900003,
                41.38427663399987
            ],
            [
                -91.61857313100006,
                41.38352021299985
            ],
            [
                -91.61858399600001,
                41.38300692699986
            ],
            [
                -91.61856776938,
                41.38300673202166
            ],
            [
                -91.61856127900003,
                41.38238514999985
            ],
            [
                -91.618525982,
                41.38235770499988
            ],
            [
                -91.61587684500005,
                41.38208266799985
            ],
            [
                -91.61576923900004,
                41.38208137299985
            ],
            [
                -91.61573337000002,
                41.38208094199984
            ],
            [
                -91.61549596674374,
                41.38207808506417
            ],
            [
                -91.61371754800004,
                41.3807055749997
            ],
            [
                -91.61350234100003,
                41.3807029819997
            ]
        ]
    }
]

const arrlatlngToObj = () => {
    const allCoor = []
    for (const coor of arrlatlng) {
        const newCoor = arrToLatlng(coor.polygon)
        allCoor.push(newCoor)
    }
    return allCoor;
}

const arrToLatlng = (coor) => {
    const newCoor = coor.map((ele) => ({
        lat: ele[1],
        lng: ele[0]
    }))
    return newCoor
}


let map = null;
const polygonList = [];
let bboxAllPolygon = null
let ittration = false;
const allInfoWindowChart = [];
let activeTabMap = 'SOC';

const defaultPolygonStyle = {
    strokeColor: '#FFF',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: '#FFF',
    fillOpacity: 0.35,
}

const onHighlightPolygonStyle = {
    strokeColor: '#FFF',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: 'green',
    fillOpacity: 0.35,
}

const initMap = () => {
    map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 37.7749, lng: -122.4194 },
        zoom: 21,
        mapTypeId: google.maps.MapTypeId.SATELLITE,
        options: {
            gestureHandling: 'greedy'
        }
    });

    const polygonCoords = arrlatlngToObj()
    bboxAllPolygon = new google.maps.LatLngBounds();
    let count = 0;

    for (let poly of polygonCoords) {
        const polygon = new google.maps.Polygon({
            paths: poly,
            strokeColor: '#FFF',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FFF',
            fillOpacity: 0.35,
        });
        polygonList.push(polygon);
        polygon.setMap(map);

        const bboxPolygon = new google.maps.LatLngBounds();
        for (let latlng of poly) {
            bboxAllPolygon.extend(latlng)
            bboxPolygon.extend(latlng)
        }

        const infowindow = new google.maps.InfoWindow();
        const infowindowChart = new google.maps.InfoWindow();
        infowindow.opened = false;
        infowindowChart.opened = false;
        allInfoWindowChart.push(infowindowChart)

        polygon.polygonNo = count

        function mousefn() {
            const activePolygon = arrlatlng.filter(({ polygonNo: num }) => num === polygon.polygonNo)
            infowindow.setContent(`<div style="padding:0.5rem 1rem;">
            ${getContentOnHover(activePolygon[0])}
            </div>`

            );
            infowindow.setPosition(bboxPolygon.getCenter());
            infowindow.open(map);
        }
        google.maps.event.addListener(polygon, 'mouseover', mousefn);

        google.maps.event.addListener(polygon, 'mouseout', function () {
            infowindow.close();
            infowindow.opened = false;
        });

        google.maps.event.addListener(polygon, 'click', function () {
            for (let iw of allInfoWindowChart) {
                iw.close()
            }
            const activePolygon = arrlatlng.filter(({ polygonNo: num }) => num === polygon.polygonNo)
            const { socData, NOxData, methaneData } = activePolygon[0]
            let arrayData = socData;
            if (activeTabMap === 'NOX') {
                arrayData = NOxData;
            } else if (activeTabMap === 'Methane') {
                arrayData = methaneData;
            }

            infowindowChart.setContent(drawBasicLineChart(arrayData, infowindowChart));
            infowindow.close();
            infowindow.opened = false;
            infowindowChart.setPosition(bboxPolygon.getCenter());
            infowindowChart.open(map);
        });
        count++
    }
    map.fitBounds(bboxAllPolygon);
}

let fullInsight = false;

function myFunction(element, color) {
    element.style.color = color;
}

const generateRow = ({ region, crop, v0, u0, v1, u1, v2, u2, v3, u3, v4, logo, polygonNo, area }) => `<div class="dashboard-metrics-deep-metrics-item">
<div class="dashboard-metrics-item-element">
    <div class="dashboard-metrics-item-element-title-icon">
        <div class="dashboard-metric-item-image-wrapper">
            <div>${logo}</div>
        </div>
    </div>
    <div class="dashboard-metrics-item-element-title-text" id='polygon${polygonNo}'>
        <h1 class="heading-xsmall">${region}</h1>
        <div class="text-block-4">${crop}</div>
    </div>
</div>
<div class="dashboard-metrics-item-element-middle">
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${v0}</h1>
        <div class="text-weight-light text-size-tiny">
        ${u0}
        </div>
    </div>
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${(v0 / area).toFixed(2)}</h1>
        <div class="text-weight-light text-size-tiny">
        ${u0}
        </div>
    </div>
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${v1}</h1>
        <div class="text-weight-light text-size-tiny">
        ${u1}
        </div>
    </div>
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${v2}</h1>
        <div class="text-weight-light text-size-tiny">
        ${u2}
        </div>
    </div>
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${v3}</h1>
        <div class="text-weight-light text-size-tiny">
        ${u3}
        </div>
    </div>
    <div class="dashboard-home-card-bottom-middle-element">
        <h1 class="heading-tiny">${v4}%</h1>
    </div>
    
</div>
</div>`

const isightHeading = `<div class="dashboard-metrics-deep-metrics-item">
<div class="dashboard-metrics-item-element">
    <div id='region' class="dashboard-metrics-item-element-title-text"
    style="padding-left: 4rem;">
        <h1 class="heading-xsmall">Region</h1>
    </div>
</div>
<div class="dashboard-metrics-item-element-middle">
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">CO<sub>2</sub></h1>
    </div> 
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">CO<sub>2</sub>/acre</h1>
    </div> 
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">GHG</h1>
    </div>
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">NO<sub>x</sub></h1>
    </div>
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">Methane</h1>
    </div>
    <div class="dashboard-home-card-bottom-middle-element-header">
        <h1 class="heading-tiny bold-text">Practice Adherence</h1>
    </div>
</div>
</div>`


const addRowInsights = (arrlatlng) => {
    const container = document.getElementsByClassName('dashboard-metrics-deep-metrics-list')[0]
    while (container.firstChild) {
        container.removeChild(container.firstChild);
    }
    let len = 0;
    const headingContainer = document.createElement("div");
    headingContainer.innerHTML = isightHeading;
    container.appendChild(headingContainer);

    for (let row of arrlatlng) {
        len++;
        const mainContainer = document.createElement("div");
        mainContainer.innerHTML = generateRow(row);
        container.appendChild(mainContainer);

        let count = row.polygonNo;
        const ele = document.getElementById('polygon' + count)
        ele.addEventListener('click', moveToPoly)
        ele.polygonNo = count;

        function moveToPoly(evt) {
            document.getElementById('leads').scrollIntoView({
                behavior: 'smooth'
            });
            const bounds = new google.maps.LatLngBounds();
            const polygonNo = evt.currentTarget.polygonNo

            const activePolygon = arrlatlng.filter(({ polygonNo: num }) => num === polygonNo)
            for (let latlng of arrToLatlng(activePolygon[0].polygon)) {
                bounds.extend(latlng)
            }

            map.fitBounds(bounds);
            for (let polygon of polygonList) {
                polygon.setOptions({ ...defaultPolygonStyle, fillOpacity: 0, strokeOpacity: 0 });
            }
            polygonList[polygonNo].setOptions(onHighlightPolygonStyle)
        }
        if (!fullInsight && len > 5) {
            break;
        }
    }
    setDisplayOnClickOnRegion();
}

const loadFullInsight = () => {
    fullInsight = !fullInsight;
    if (fullInsight) {
        buttonContainer.innerHTML = "Show Less"
    } else {
        buttonContainer.innerHTML = "Load More"
    }
    addRowInsights(arrlatlng)
}

const buttonContainer = document.getElementsByClassName("load-insight")[0];
buttonContainer.addEventListener('click', loadFullInsight, false)

const setCardData = () => {
    const card1 = document.getElementById("card1")
    const card2 = document.getElementById("card2")
    card2.innerHTML = "7,290.3 tons"
    const card3 = document.getElementById("card3")
    const card4 = document.getElementById("card4")
    card4.innerHTML = "2.9 tons/acre/year"
    const card5 = document.getElementById("card5")
    card5.innerHTML = "544,232 tons"
    const card6 = document.getElementById("card6")
    card6.innerHTML = "911,312 tons"
}
const setListnerForSortMetrics = () => {
    const radios = document.querySelectorAll('#radio-9');
    let count = 0;
    for (const radioEle of radios) {
        radioEle.count = count
        radioEle.addEventListener('click', (evt) => {
            const count = evt.currentTarget.count
            let varible = ['v0', 'v1', 'v2', 'v3', 'v4']
            arrlatlng.sort((a, b) => -a[varible[count]] + +b[varible[count]])
            addRowInsights(arrlatlng);
        })
        count++;
    }
}

const setDisplayOnClickOnRegion = () => {
    const ele = document.getElementById('region');
    ele.addEventListener('click', () => {
        document.getElementById('leads').scrollIntoView({
            behavior: 'smooth'
        });
        for (let polygon of polygonList) {
            polygon.setOptions(defaultPolygonStyle);
        }
        map.fitBounds(bboxAllPolygon);
        map.setZoom(13)
    })
}

const chartDetails = {
    "NOX": {
        vTitle: 'NO\u2082(tones)',
        title: 'NO\u2082 (2018 - 2025)',
        mainTitle: "t NO\u2082eq"
    },
    "SOC": {
        vTitle: 'SOC(tones)',
        title: 'SOC (2018 - 2025)',
        mainTitle: "t CO\u2082eq"
    },
    "Methane": {
        vTitle: 'Methane(tones)',
        title: 'Methane (2018 - 2025)',
        mainTitle: "t Methane"
    }
};

const drawBasicLineChart = (dataArray, infoWindow) => {
    const { vTitle, title, mainTitle } = chartDetails[activeTabMap];

    const data = new google.visualization.DataTable();
    data.addColumn('string', 'X');
    data.addColumn('number', mainTitle || "t CO\u2082eq");
    data.addRows(dataArray);

    const options = {
        title: title || 'SOC (2018 - 2025)',
        titlePosition: 'in',
        hAxis: {
            title: 'Year'
        },
        vAxis: {
            title: vTitle || 'SOC(tones)',
            gridlines: {
                color: 'transparent'
            }
        },
        legend: {
            position: 'none',
        },
        width: 400,
        height: 150
    };

    const node = document.createElement('div')
    const chart = new google.visualization.LineChart(node);
    google.maps.event.addListener(infoWindow, 'domready', function () {
        chart.draw(data, options);
    });

    return node
}

const setActiveTabForMap = () => {
    const elements = document.querySelectorAll('.switch-map');
    elements.forEach((ele) => {
        ele.addEventListener('click', () => {
            for (let iw of allInfoWindowChart) {
                iw.close()
            }
            for (const ele1 of elements) {
                if (ele.textContent === 'CO2 Removals') {
                    activeTabMap = 'SOC';
                } else if (ele.textContent === 'Methane Reduction') {
                    activeTabMap = 'Methane';
                } else if (ele.textContent === 'NOxReduction') {
                    activeTabMap = 'NOX';
                }
                if (ele1.innerHTML === ele.innerHTML) {
                    ele1.classList.add('active-switch-map');
                } else {
                    ele1.classList.remove('active-switch-map');
                }
            }
        })
    })
}

const getContentOnHover = (polyData) => {
    if (activeTabMap === 'NOX') {
        return `<h6>NO<sub>x</sub> Change</h6> 
        <h5>
        ${polyData.annualNOxPer}, ${polyData.annualNOx} t NO<sub>x</sub>eq
        </h5>`;
    } else if (activeTabMap === 'Methane') {
        return `<h6>Methane Change</h6> 
        <h5>
        ${polyData.annualMethanePer}, ${polyData.annualMethane} t methane
        </h5>`;
    } else {
        return `<h6>CO<sub>2</sub> Change</h6> 
        <h5>
        ${polyData.annualSocPer}, ${polyData.annualSoc} t CO<sub>2</sub>eq
        </h5>`;
    }
}

const tooltipForCard = [
    "CO<sub>2</sub> Removal of 7,290.3 tons between 2018 to 2022.",
    "SOC Sequestration of 2.9 tons/acre/year between 2018 to 2022.",
    "Practice Adherence of 80% between 2018 to 2022.",
    "Emission Avoidance of 8,002,091 t CO<sub>2</sub>eq between 2018 to 2022.",
    "NO<sub>x</sub> Reduction of 544,232 tons between 2018 to 2022.",
    "Methane Reduction of 911,312 tons between 2018 to 2022.",
]

const addHoverOnCards = () => {
    const allCard = document.querySelectorAll('.dashboard-snapshot-card');

    let count = 0;
    for (const cardContainer of allCard) {
        const tooltipContainer = document.createElement("div");
        tooltipContainer.classList.add('tooltip')

        cardContainer.cardNo = count;
        count++;
        cardContainer.addEventListener('mouseover', function (e) {
            tooltipContainer.innerHTML = `<span class="tooltiptext">${tooltipForCard[cardContainer.cardNo]}</span>`;
            const newLeft = e.pageX;
            tooltipContainer.style.left = newLeft + 'px';

            const newTop = e.pageY;
            tooltipContainer.style.top = newTop + 'px';

            cardContainer.appendChild(tooltipContainer);
        })
        cardContainer.addEventListener('mouseout', function (e) {
            cardContainer.removeChild(tooltipContainer);
        })
    }

}

setCardData();
setListnerForSortMetrics();
setActiveTabForMap();
addHoverOnCards();


setTimeout(() => {
    initMap();
    addRowInsights(arrlatlng);
    google.charts.load('current', { packages: ['corechart', 'line'] });
}, 600);

